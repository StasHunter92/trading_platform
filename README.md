# Тестовое задание SkyPRO

______________________________________

### Данная работа представляет собой приложение c API интерфейсом и управлением из админ-панели

<p align="left">
<img src="https://img.shields.io/badge/Python-3.10-green?style=flat-square&logo=appveyor" alt="Python 3.10">
<img src="https://img.shields.io/badge/Django-4.2.1-green?style=flat-square&logo=appveyor" alt="Python 3.10">
<img src="https://img.shields.io/badge/DRF-3.14.0-green?style=flat-square&logo=appveyor" alt="Python 3.10">
<img src="https://img.shields.io/badge/Docker-blue?style=flat-square&logo=appveyor" alt="Python 3.10">
<img src="https://img.shields.io/badge/PostgreSQL-blue?style=flat-square&logo=appveyor" alt="Python 3.10">
<img src="https://img.shields.io/badge/Pytest-blue?style=flat-square&logo=appveyor" alt="Python 3.10">
</p>

______________________________________
**Приложение реализует модель сети по продаже электроники с иерархической структурой из трех уровней
(завод, розничная сеть, индивидуальный предприниматель)**

Приложение реализует такие возможности как:

1) Вход/регистрация через логин/пароль
2) CRUD для товаров с полями:
    - Название
    - Модель
    - Дата выхода продукта на рынок
3) CRUD для контактных данных с полями:
    - Email
    - Страна
    - Город
    - Улица
    - Номер дома
4) CRUD для участников торговой сети с полями:
    - Название
    - Контакты
    - Продукты
    - Поставщик
    - Задолженность
    - Время создания
5) Админ-панель с дополнительными функциями:
    - Переход по связанной ссылке на поставщика
    - Фильтр по названию города поставщика
    - "Admin action", очищающий задолженность перед поставщиком у выбранных участников
6) API интерфейс с дополнительными возможностями:
    - Запрет обновления поля "Задолженность перед поставщиком"
    - Фильтрация участников по названию страны
7) Доступ к API имеют только сотрудники со статусом `is_active`

______________________________________
**Используемый стек**

- Язык программирования: `Python 3.10`
- Фреймворк веб-приложений: `Django 4.2.1`
- Фреймворк для создания API: `Django Rest Framework 3.14.0`
- Веб-сервер: `Gunicorn 20.1.0`
- База данных: `PostgreSQL`
- Контейнеризация: `Docker`
- Плагин для автоматической генерации документации API: `drf-spectacular 0.26.2`
- Библиотека для работы с окружением: `django-environ 0.10.0`
- Фреймворк для тестирования: `pytest-django 4.5.2`
- Плагин для создания тестовых данных: `pytest-factoryboy 2.5.1`

______________________________________
**Структура проекта**

- `api/`: папка с API приложением сети
- `core/`: папка с приложением управления пользователями
- `trading_platform/settings.py`: файл с настройками проекта
- `trading_platform/urls.py`: файл с URL-адресами проекта
- `trading_platform/wsgi.py`: файл с конфигурацией WSGI-сервера
- `tests/`: папка с тестами
- `.env`: файл с настройками окружения
- `docker-compose`: файл для запуска приложения через docker compose
- `Dockerfile`: файл для сборки Docker контейнера
- `manage.py`: файл для запуска Django команд
- `pyproject.toml`: файл для установки зависимостей через Poetry
- `pytest.ini`: файл для настройки тестов Pytest

______________________________________
**Установка и запуск приложения**

1) Клонируйте репозиторий
   ```sh
   git clone https://github.com/StasHunter92/trading_platform.git
   ```

2) Запустите локальный сервер
   ```sh
   docker-compose up -d
   ```
3) При необходимости тесты доступны по команде
   ```sh
   pytest
   ```
4) Загрузите тестовые данные в приложение
   ```sh
   python api/fixtures/import_data.py
   ```

5) Зайдите в админ панель используя логин и пароль `admin`

6) Документация доступна по адресу: http://127.0.0.1:8000/schema/redoc/

7) Управление данными через `adminer` доступно по адресу: http://127.0.0.1:8080/
    - Движок: `PostgreSQL`
    - Сервер: `trading_database`
    - Имя пользователя: `user`
    - Пароль: `password`
    - База данных: `trading_postgres`